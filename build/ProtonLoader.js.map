{"version":3,"sources":["webpack:///webpack/bootstrap b548bff6f636af3e9e8b","webpack:///./src/ProtonCreator.js","webpack:///./src/ProtonLoader.js"],"names":["setupEmitter","pr","body","emitter","Proton","Emitter","rate","Rate","Span","addInitialize","Body","mass","Mass","radius","Radius","life","Life","spawn","Position","BoxZone","PointZone","velocity","dir","direction","Velocity","speed","Vector3D","variance","alpha","addBehaviour","Alpha","scale","Scale","colors","randomColors","Color","THREE","emit","setupBody","shape","type","mesh","spriteMap","texture","TextureLoader","load","material","SpriteMaterial","map","color","blending","AdditiveBlending","Sprite","geometry","MeshBasicMaterial","SphereGeometry","segments","BoxGeometry","size","Mesh","ProtonCreator","options","destroyed","container","proton","props","particleProps","addEmitter","addRender","renderType","update","destroy","ProtonLoader","particles","particleSystem","push","i","length","splice"],"mappings":"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","file":"ProtonLoader.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b548bff6f636af3e9e8b","function setupEmitter(pr, body) {\n    const emitter = new Proton.Emitter();\n    emitter.rate = new Proton.Rate(\n        new Proton.Span(pr.rate[0], pr.rate[1]),\n        new Proton.Span(0.1, 0.25),\n    );\n    emitter.addInitialize(new Proton.Body(body));\n\n    if (pr.mass) {\n        emitter.addInitialize(new Proton.Mass(pr.mass));\n    }\n    if (pr.radius) {\n        if (typeof pr.radius === 'object') {\n            emitter.addInitialize(new Proton.Radius(pr.radius[0], pr.radius[1]));\n        } else {\n            emitter.addInitialize(new Proton.Radius(pr.radius));\n        }\n    }\n    if (pr.life) {\n        if (typeof pr.life === 'object') {\n            emitter.addInitialize(new Proton.Life(pr.life[0], pr.life[1]));\n        } else {\n            emitter.addInitialize(new Proton.Life(pr.life));\n        }\n    }\n    if (typeof pr.spawn === 'number') {\n        emitter.addInitialize(new Proton.Position(new Proton.BoxZone(pr.spawn)));\n    } else if (typeof pr.spawn === 'object') {\n        emitter.addInitialize(new Proton.Position(new Proton.PointZone(pr.spawn[0], pr.spawn[1])));\n    }\n    if (pr.velocity) {\n        const dir = pr.velocity.direction;\n        emitter.addInitialize(new Proton.Velocity(\n            pr.velocity.speed,\n            new Proton.Vector3D(dir[0], dir[1], dir[2]),\n            pr.velocity.variance,\n        ));\n    }\n\n    if (pr.alpha) {\n        emitter.addBehaviour(new Proton.Alpha(pr.alpha[0], pr.alpha[1]));\n    }\n    if (pr.scale) {\n        if (typeof pr.scale === 'object') {\n            emitter.addBehaviour(new Proton.Scale(pr.scale[0], pr.scale[1]));\n        } else {\n            emitter.addBehaviour(new Proton.Scale(pr.scale));\n        }\n    }\n    if (pr.colors) {\n        if (pr.randomColors) {\n            emitter.addBehaviour(new Proton.Color(pr.colors, 'random'));\n        } else {\n            emitter.addBehaviour(new Proton.Color(\n                new THREE.Color(pr.colors[0]),\n                new THREE.Color(pr.colors[1]),\n            ));\n        }\n    }\n    emitter.emit();\n    return emitter;\n}\n\nfunction setupBody(shape) {\n    let body;\n    if (shape.type === 'mesh') {\n        return shape.mesh;\n    } else if (shape.type === 'sprite') {\n        let spriteMap;\n        if (typeof shape.texture === 'string') {\n            spriteMap = new THREE.TextureLoader().load(shape.texture);\n        } else {\n            spriteMap = shape.texture;\n        }\n        const material = new THREE.SpriteMaterial({\n            map: spriteMap,\n            color: shape.color || 0xFFFFFF,\n            blending: THREE.AdditiveBlending,\n        });\n        body = new THREE.Sprite(material);\n    } else {\n        let geometry;\n        const material = new THREE.MeshBasicMaterial({\n            color: shape.color || 0xFFFFFF,\n        });\n        if (shape.type === 'sphere') {\n            geometry = new THREE.SphereGeometry(\n                shape.radius,\n                shape.segments || 8,\n                shape.segments || 8,\n            );\n        } else if (shape.type === 'box') {\n            geometry = new THREE.BoxGeometry(shape.size, shape.size, shape.size);\n        }\n        body = new THREE.Mesh(geometry, material);\n    }\n    return body;\n}\n\nclass ProtonCreator {\n    constructor(Proton, options) {\n        this.destroyed = false;\n        this.container = options.container;\n        this.body = setupBody(options.body);\n        this.proton = new Proton();\n\n        const props = options.particleProps;\n        this.emitter = setupEmitter(props, this.body);\n        this.proton.addEmitter(this.emitter);\n        this.proton.addRender(new Proton[options.renderType](this.container));\n    }\n\n    update() {\n        this.proton.update();\n    }\n\n    destroy() {\n        this.proton.destroy();\n        this.destroyed = true;\n    }\n}\n\nexport default ProtonCreator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ProtonCreator.js","import ProtonCreator from './ProtonCreator';\n\nexport class ProtonLoader {\n    constructor(Proton) {\n        this.Proton = Proton;\n        this.particles = [];\n    }\n\n    createParticles(options) {\n        const particleSystem = new ProtonCreator(Proton, options);\n        this.particles.push(particleSystem);\n        return particleSystem;\n    }\n\n    update() {\n        for (let i = this.particles.length - 1; i >= 0; i--) {\n            if (this.particles[i].destroyed) {\n                this.particles.splice(i, 1);\n            } else {\n                this.particles[i].update();\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ProtonLoader.js"],"sourceRoot":""}